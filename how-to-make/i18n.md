# Как настроить локализацию?

Если под локализацией вы подразумеваете то же, что и мы — перевод сайта на другие языки, — тогда вы, как и мы, 
заблуждаетесь. 

Читаем Википедию.

**Локализация** — процесс адаптации веб-приложения к культуре какой-либо страны. 

**Интернационализация** — технологические приёмы разработки, упрощающие адаптацию продукта к языковым и культурным 
особенностям регионов, отличных от того, в котором разрабатывался продукт.

Важное отличие одного от другого можно сформулировать совсем коротко. Интернационализация — это адаптация продукта 
для использования _в разных странах_, в то время как локализация — это добавление специальных функций для 
использования _в какой-то определённой стране_.

Мы, разработчики сайтов, говорим "локализация", но обычно подразумеваем только лишь перевод сайта на разные языки. 
А так как этот документ именно о переводах, придётся его переозаглавить.
 
# Как настроить интернационализацию?

В английском языке для слова `internationalization` принято сокращение `i18n`. При этом число `18` означает количество 
пропущенных между `i` и `n` букв. Для Локализации `Localization` применяют сокращение `L10n`. Заглавная буква `L` 
используется чтобы не путать с `i` в `L10n`, число `10` — количество букв между `L` и `n`.

Неудивительно, что инструменты, которые так или иначе связаны с интернационализацией, называются с использованием 
сокращения `i18n`. В `BEViS` мы не стали ломать привычки. Наши инструменты для интернационализации называются так же.

Освоить их проще простого, если вы вместе с нами освоили задания из последнего занятия про [yblock](yblock.md)

Теперь у вас есть страница `/pages/test-page/test-page.page.js`, на которой к этому моменту задекларирован один 
единственный блок `form`. Добавим в блок новую опцию `titleText`, в которую передадим произвольный текст. Его-то мы и
 будем переводить на разные языки. 
 
 У вас должна получиться такая структура:

```javascript
module.exports = function (pages) {
    pages.declare('test-page', function (params) {
        var options = params.options;
        return {
            block: 'page',
            title: 'test page',
            styles: [
                {url: options.assetsPath + '.css'}
            ],
            scripts: [
                {url: options.assetsPath + '.' + params.lang + '.js'}
            ],
            body: [
                {
                    block: 'form',
                    titleText: 'Лучший кофе на дороге'  // <---------- Новая опция
                }
            ]
        };
    });
}
```

Допишем шаблон для формы. Будем принимать опцию `titleText` и создавать элемент блока `head`, который в `DOM`-дереве 
будет представлен заголовком `h1` с переданным текстом.

Было:
```javascript
module.exports = function (bt) {

    bt.match('form', function (ctx) {
        ctx.enableAutoInit();

        ctx.setTag('span');

        ctx.setContent('Содержимое блока');
    });

};
```

Стало:
```javascript
module.exports = function (bt) {

    bt.match('form', function (ctx) {
        ctx.enableAutoInit();

        ctx.setTag('span');

        var title = ctx.getParam('titleText');
        ctx.setContent({
            elem: 'head',
            text: title
        });
    });

    bt.match('form__head', function (ctx) {
        ctx.setTag('h1');

        var headText = ctx.getParam('text');
        ctx.setContent(headText);
    });

};
```

_Я нарочно дал совершенно разные имена опциям шаблона и локальным переменным, чтобы вам было легче проследить, 
как текст "Лучший кофе на дороге" передаётся от опции `ctx.getParam('titleText')` до установки контента в 
`ctx.setContent(headText);`_ 

Обновим страницу `localhost:8080/test` в браузере и увидим огромный заголовок про кофе. Я вижу, а вы?


 



