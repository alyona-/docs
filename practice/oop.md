# Объектно-ориентированное программирование

В классических учебниках ООП объясняют на примере машины. Мол, автомобиль - это класс объектов, категория объектов. Этот класс объектов имеет характерные признаки - 4 колеса, двигатель, салон для пассажиров. Автомобили умеют двигаться в пространстве и перевозить людей. И там, в учебниках, утверждается, мол, **все** автомобили имеют **все эти** характерные признаки, а например, лифты не имеют **всех этих** признаков, а имеют какие-то свои признаки, значит они принадлежат к другому классу объектов.

А объект — это, мол, конкретная машина, созданная на конкретном автомобильном заводе. Она имеет все характерные признаки класса автомобиль (4 колеса, двигатель, салон...), но это уже не абстрактный класс (не абстрактная категория автомобилей), а вполне себе реальная штуковина, которую можно пощупать, в неё можно сесть, завести и поехать на море.

То есть класс, объясняли в учебнике, - это сущность абстрактная, она лишь описывает признаки (или правила), по которым нужно создавать конкретный экземпляр. Экземпляр класса. Объект класса. А объект - это конкретная реализация этого класса.

Я когда читал эти объяснения в учебнике, я всё понимал. Про автомобили - всё понимал. Про ООП в `Javascript` - ничего. Как эти знания про автомобили применить к к моим программам? Непонятно.

Попыток объяснить эту тему существует множество. Можно прочитать [здесь](), и [здесь](), и [ещё здесь]().

Но я всё же собираюсь предпринять свою собственную попытку. Потому что меня не устраивают объяснения всех этих бесспорно уважаемых людей.
Я попытаюсь вам объяснить эту тему так, как собираюсь объяснять её  своей дочери годика эдак через четыре. То есть, понятно. И не про автомобили и лифты, а именно про `Javascript`.

## Что нужно знать?

К тому моменту, когда дочь будет готова воспринимать эту тему, она должна будет понимать, что такое переменные, какие типы переменных существуют в `javascript`, какие методы существуют у встроенных типов (например, у строк, у чисел, у массивов). Дочь должна уметь создавать функции, уметь их вызывать и принимать от них результаты.

Если всей этой базы не понимать, задаваться вопросом, что такое объектно-ориентированное программирование, совершенно незачем. ООП - это абстракция над базовыми возможностями `javascript`. Если не знать базовых возможностей, глупо лезть в дебри.

Я предполагаю, что вы прекрасно разбираетесь в основах. Поэтому вперёд.

ООП - это такой способ написания кода, когда мы пишем свой код в терминах так называемых `Классов` и `Объектов`. Не в виде набора функций, а в виде...

## Вообще-то вы уже знаете, что такое ООП!

Конечно же! Не ослышались. И хотя кто угодно, даже школьник, скажет, что `Javascript` вообще ни разу не объектно-ориентированный язык, вы должны знать, что когда вы пишете `javascript`-программу, вы чуть ли не в каждой строчке своего кода создаёте `Объекты` из `Классов` и оперируете им мастерски. Только этого ещё не понимаете. Каждый из нас _уже умеет_ писать объектно-ориентированные программы.

```javascript
var name = 'Bevis';
```
Что в этом коде происходит? Ничего  магического. Создаём переменную `name` строкового типа и присваиваем ей значение 'Bevis'. Вам этот оператор  совершенно понятен. Ну, переменная. Ну, строкового типа. Ну и?

На самом деле, этот же оператор должен быть записан иначе. Вы это наверняка знаете. Или знали раньше, но забыли:
```javascript
var name = new String('Bevis');
```
Этот код совершенно идентичен предыдущему. Но я попробую предположить, что разработчики `Javascript` пожалели нас, бедных, и дали нам возможность писать это же короче - без вызова оператора `new` и без указания типа `String`. Спасибо им. Но что такое `new String()`? Сравним описания:

Создаём **переменную** `name` строкового **типа** и присваиваем *переменной* значение 'Bevis':
```javascript
var name = 'Bevis';
```

Создаём **объект** `name` строкового **класса** (то есть, класса `String`) и присваиваем *объекту* значение 'Bevis':
```javascript
var name = new String("Bevis");
```

То есть вместо слова `Тип` можно смело говорить слово `Класс`. Считайте, это одно и то же. А вместо слова ``Переменная`` можно смело говорить слово ``Объект``.

Вы так не говорили никогда. Я тоже так не говорил. Нас не учили так говорить ни в одном учебнике. Но если мы хотим научиться писать объектно-ориентированные программы, нужно взглянуть на свои программы под новым углом. Мне кажется, если вы поймёте, что любая переменная, которую вы создавали в своей жизни, на самом деле никакая не переменная, а Объект какого-то Класса, понять всё остальное в ООП будет легко. Попробуйте вместе со мной относиться к переменным именно так. Договорились, пробуем?

Итак, когда вы создаёте строковую переменную, на самом деле вы создаёете объект строкового класса. Или "экземпляр класса String". Замысловато звучит, чужеродно даже. Но так принято, все ООП-адепты выражаются именно такими словами и другу друга понимают. И мы привыкнем, и мы научися.

Итак, когда мы пишем `var name = 'Bevis'`, на самом деле мы создаём не строковую переменную, а экземпляр класса "Строка". Или, другими словами, объект класса "Строка".

В учебниках про `javascript` вы на первых же страницах читали про встроенные типы данных. Вы, конечно, их знаете:
- String
- Number
- Boolean
- ...

Давайте перестанем думать о них, как о **типах** данных, а будем относиться к ним, как к **классам** данных.

_Правильно это с академической точки зрения или нет, я уверен, вообще не важно. Я хочу, чтобы вы осознали прямо сейчас — вы каждый день пишете программы с использованием классов и объектов, только не называете их этими словами. Как только вы это осознаете, вы легко поймёте, как создавать и как пользоваться своими собственные классами и объектами. Но про свои классы и объекты чуть позже. А пока начнём привыкать к новым словам._

Как любая реальная машина имеет 4 колеса, двигатель и салон, так и любой объект, созданный из класса `String` имеет имеет свой характерный набор признаков. Это же понятно, да?

```javascript
var name = new String("Bevis");
console.log(name.length); // 5
```

Мы только что создали объект `name`, и у него вдруг появляется свойство `length`, хотя мы такое свойство не определяли. Оно появилось само собой. Откуда? Вы прекрасно знаете, что любая строковая переменная обладает таким свойством, эка невидаль. Но давайте подумаем об этом по-новому. Покатайте в уме такое объяснение: любой экземпляр класса `String` обладает свойством `length`. Как только мы создали новый экземпляр класса с помощью оператора `var name = new String('Bevis')` (или с помощью шотката `var name = 'Bevis'`, что одно и то же ) и сохранили его в объекте `name`, созданный объект приобрел сразу все характерные признаки класса `String`.

 У любой строки есть такая вещь, как длина строки. Это признак строки? Признак, конечно. А есть ли такой признак у числа? Правильнее было бы задать этот вопрос другими слоами: "А есть ли точно такой же признак у объекта, созданного от класса `Number`"? Нет.

 Доказываю. Создаём объект класса `Number` и спрашиваем у него длину:
```javascript
var age = new Number(36);
console.log(age.length); // undefined
```
Нет такого свойства у экземпляра класса `Number`. Да вы и сами это знаете, только никогда не рассуждали об этом словами `Класс` и `Объект`.

На заводе конкретную машину делают по правилам класса "Автомобиль". А в программах на `js` мы создаём строковые, числовые и булевские переменные с помощью встроенных в `Javascript` классов `String`, `Number`, `Boolean`.

Не только примитивные объекты мы создаём.

Вы писали такое множество раз:
```javascript
var data = [];
```

Это тоже шоткат. На самом деле это тоже создаётся экземпляр класса `Array`:
```javascript
var data = new Array();
```

Вы поняли, что в `javasсript` вы всё время создавали объекты из классов? Вы этим занимались всю свою жизнь, только не думали об этом в таком ключе.

Чтиобы окончательно убедить вас в этом, последний довод.

Вы когда-нибудь генерили картинки налету и вставляли в DOM? Конечно. Не таким ли образом вы это делали?
```javascript
var logo = new Image();
document.body.append(logo);
```

Опять таки вы использовали оператор `new` и указывали имя класса `Image`.
В переменной `logo` сохранялся экземпляр класса `Image`
И в нём html этой картинки. Даже так!
